-- Test data initialization

DROP TABLE IF EXISTS PRODUCT;
DROP TABLE IF EXISTS USERS;

CREATE TABLE PRODUCT (ID LONG PRIMARY KEY AUTO_INCREMENT NOT NULL,
                      CATEGORY VARCHAR(30) NOT NULL,
                      NAME VARCHAR(30) NOT NULL,
                      DESCRIPTION VARCHAR(30) NOT NULL,
                      UNITPRICE DECIMAL(19,4) NOT NULL,
                      INVENTORY VARCHAR(10) NOT NULL,
                      PAYMENT_OPTIONS VARCHAR(10) NOT NULL,
                      DELIVERY_OPTIONS VARCHAR(10) NOT NULL);

CREATE TABLE MERCHANT (ID LONG PRIMARY KEY AUTO_INCREMENT NOT NULL,
                      TYPE VARCHAR(30) NOT NULL,
                      NAME VARCHAR(30) NOT NULL,
                      OWNER VARCHAR(30) NOT NULL,
                      NAME VARCHAR(30) NOT NULL,
                      ADDRESS VARCHAR(100) NOT NULL,
                      PHONE VARCHAR(15) NOT NULL,
                      EMAIL VARCHAR(50) NOT NULL,
                      PASSWORD VARCHAR(10) NOT NULL);

CREATE UNIQUE INDEX idx_acc on PRODUCT(ID,NAME);
CREATE UNIQUE INDEX idx_cus on MERCHANT(ID,NAME);

INSERT INTO PRODUCT (CATEGORY, NAME, DESCRIPTION, UNITPRICE, INVENTORY, PAYMENT_OPTIONS, DELIVERY_OPTIONS)
VALUES ('ELECTRONICS','TV','LG Smart TV',1000.0000,20,'DIRECT','X');

INSERT INTO PRODUCT (CATEGORY, NAME, DESCRIPTION, UNITPRICE, INVENTORY, PAYMENT_OPTIONS, DELIVERY_OPTIONS)
VALUES ('FASHION','Skirt 101','Black Skirt',20.0000,10,'INSTALLMENT','X');

INSERT INTO PRODUCT (CATEGORY, NAME, DESCRIPTION, UNITPRICE, INVENTORY, PAYMENT_OPTIONS, DELIVERY_OPTIONS)
VALUES ('FOOD','Bread','Whole Wheat Bread',5,5,'DIRECT','X');

INSERT INTO MERCHANT (CustomerId, Balance, CurrencyCode) VALUES ('202020',200.0000, 'EUR');